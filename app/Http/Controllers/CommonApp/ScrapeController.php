<?php

namespace App\Http\Controllers\CommonApp;

use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
ini_set('max_execution_time', 7200);


class ScrapeController extends Controller
{

	public function expedia()
	{
		$json = '["https:\/\/www.expedia.co.in\/things-to-do\/universal-studios-singapore-admission-with-sg5-meal-voucher.a203308.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/sentosa-day-fun-pass.a242799.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/universal-studios-singapore-1-day-pass-with-hotel-pick-up.a234441.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/s-e-a-aquarium-pass-with-sg5-meal-voucher.a203314.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/s-e-a-aquarium-1-day-pass-with-hotel-pick-up.a234445.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/night-safari-admission.a203392.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/adventure-cove-waterpark-1-day-pass-with-hotel-pick-up.a234449.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/funvee-night-tour-with-christmas-light-up.a391976.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-zoo-admission.a203402.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/marina-bay-sands-skypark-observation-deck-admission-1-day-hopper-pass.a443509.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/kidzania-singapore.a405838.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/indoor-skydiving-experience-at-ifly.a423182.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-gourmetbus-lunch-experience.a408728.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/battlebox-story-of-surrender-tour.a438299.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/jungle-breakfast-with-orangutans-at-singapore-zoo.a310484.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/moonlight-adventure-of-downtown-marina-bay.a408732.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/lunch-with-parrots-at-jurong-bird-park.a395052.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/sentosa-island-segway-eco-adventure.a237547.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-flexi-attractions-pass.a296009.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/makan-bus-tour.a436564.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/half-day-city-tour.a342162.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/sentosa-4d-adventureland-1-day-adventure-pass-unlimited.a242827.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/megazip-adventure-park.a281417.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/night-safari-with-roundtrip-transfer.a203336.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/sentosa-island-afternoon-tour-with-wings-of-time-priority-seating.a237535.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/hop-on-hop-off-bus-tour.a188298.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-zoo-river-safari-with-transfer.a358972.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/shore-excursion-hop-on-hop-off-bus-tour.a426523.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/expedited-clearance-lounge-at-luxury-jetquay-cip-terminal.a428026.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/cable-car-sky-dining.a266651.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/gardens-by-the-bay-admission.a341806.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/sentosa-island-tour.a203332.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/morning-city-tour.a203328.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/sands-skypark-gardens-by-the-bay-with-lau-pa-sat-night-out.a405834.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/night-city-tour-with-dinner.a203362.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-zoo-admission-with-roundtrip-transfer.a203340.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/funvee-open-top-bus-1-day-hopper-pass.a391952.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-attractions-flexi-pass-universal-studios-singapore.a445911.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-f1-street-circuit-freeway-driving-experience.a239469.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/elemental-aromatherapy-massage-onsen-bath-at-ikeda-spa.a443289.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-unlimited-attractions-pass.a296015.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-city-pass.a391958.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/trick-eye-museum-singapore.a334842.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/sentosa-island-segway-eco-adventure.a237541.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/small-group-singapore-bike-explorers-morning-tour.a391900.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/jurong-bird-park-admission.a203382.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/wild-discoverer-tour-at-singapore-zoo.a395046.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/captain-explorer-dukw-tour.a391966.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/legoland-malaysia-tour-with-transfer.a203412.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/river-safari-admission.a203436.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/ketam-island-kayaking-half-day-adventure.a422300.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/introductory-segway-ride.a337614.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/guided-tour-of-little-india-with-tastings.a439143.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/1-altitude-viewing-gallery-admission-1-day-hopper-pass.a443511.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/airport-transfer-with-half-day-city-tour.a339260.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/chinatown-afternoon-food-tour.a391904.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/small-group-bike-tour-with-local-snacks.a426569.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-f1-street-circuit-driving-experience.a239463.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/skip-the-line-night-safari-admission-with-transfer.a234437.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/local-flavours-food-morning-walking-excursion.a308496.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/admission-to-alive-museum-singapore.a270295.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/wildlife-reserves-2-in-1-park-hopper-admission.a203418.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-authentic-singaporean-peranakan-cooking-class.a413084.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/wildlife-reserves-4-in-1-park-hopper-admission.a203432.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/madame-tussauds-images-of-singapore-live-admission.a242823.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/half-day-eco-mangrove-kayaking-tour.a336568.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-ducktours.a203348.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/full-day-bike-food-tour.a414240.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/morning-ubin-bisect-kayaking-tour.a336584.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/half-day-ubin-trail-bike-tour.a336588.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-7-sightseeing-hop-on-hop-off.a203344.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-life-in-the-lion-city-experience.a357768.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/gardens-by-the-bay-marina-bay-sands-river-cruise-tour.a227267.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/gardens-by-the-bay-tour.a227271.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/historic-wwii-landmarks-of-changi-tour.a203284.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/dinner-at-quayside-seafood.a342216.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/bicycle-hire-in-sentosa-island.a337604.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/singapore-turf-club-horseracing-with-owners-lounge-access.a203368.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-little-red-dot-city-highlights-tour.a357748.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/chinatown-at-night-with-dinner-cruise.a203378.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/small-group-chinatown-food-adventure.a221781.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/afternoon-walking-tour-of-battlebox-fort-canning-hill.a391896.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/round-island-war-history-tour.a227225.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/soothing-spa-experience.a203256.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/chinatown-food-tasting-walking-adventure.a308492.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/royal-palace-mosque-cultural-discovery-tour.a203296.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-heritage-foodelicious-tour.a284107.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/airport-transfer-with-half-day-walking-tour.a340704.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/high-tea-at-raffles-singapore-historic-half-day-tour.a203356.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/end-of-an-empire-singapore-world-war-ii-tour.a203300.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-melting-pot-discovery-tour.a357758.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/little-india-temple-walking-tour.a203288.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/colonial-singapore-walking-tour.a203304.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/chinatown-temple-ann-siang-hill-walking-tour.a203280.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/dining-experience-at-peony-jade.a342210.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-hipster-district-tour.a284103.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/tiger-brewery-tour-with-tasting.a203374.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-session-with-a-local-photographer.a441964.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/jurong-bird-park-admission-with-transfer.a234457.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/river-safari-admission-with-transfer.a234463.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/chinese-customs-walking-tour-birth-marriage-death.a234453.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/a-taste-of-chinatown-food-heritage-tour.a227233.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/east-coast-changi-tour.a227237.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/sentosa-segway-tour.a337710.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/peranakan-tradition-food-tasting-tour.a227241.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/sentosa-island-morning-tour.a234467.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/river-night-safari-expedition-with-transfer.a234473.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/ultimate-drive-experience.a239475.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/haw-par-villa-theme-park-walking-tour.a249292.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/secrets-of-the-red-lantern-walking-tour.a249296.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/plaza-premium-lounge-at-singapore-changi-airport-sin.a302770.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/the-green-market-at-singapore-changi-airport-sin.a249746.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/shared-shuttle-singapore-changi-airport-sin.a219362.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/shared-shuttle-singapore-changi-airport-sin.a440161.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-standard-car-singapore-changi-airport-sin.a219346.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-standard-car-singapore-changi-airport-sin.a440165.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-minivan-singapore-changi-airport-sin.a219354.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-minivan-singapore-changi-airport-sin.a440169.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-minibus-singapore-changi-airport-sin.a349180.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-standard-car-singapore-changi-airport-sin.a428687.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-executive-saloon-singapore-changi-airport-sin.a349156.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-minivan-singapore-changi-airport-sin.a428691.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-luxury-minivan-singapore-changi-airport-sin.a349172.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-luxury-saloon-singapore-changi-airport-sin.a349164.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/vip-fast-track-service-saloon-transfer-singapore-changi-airport-sin.a370750.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/vip-fast-track-service-minivan-transfer-singapore-changi-airport-sin.a370760.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-standard-car-changi-international-airport-sin-johor-bahru.a237503.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-minivan-changi-international-airport-sin-johor-bahru.a237511.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-standard-car-johor-bahru-senai-airport-jhb-singapore.a406216.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-minivan-johor-bahru-senai-airport-jhb-singapore.a406224.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-standard-car-singapore-johor-bahru.a237519.activity-details","https:\/\/www.expedia.co.in\/things-to-do\/private-minivan-singapore-johor-bahru.a237527.activity-details"]';

		$array = json_decode($json);
		pre_echo($array);

		$data = \Curl::to($array[0])->get();
		var_dump($data);

	}


	public function jainWoodCrafts()
	{
		$json = '["http:\/\/jainwoodcrafts.tradeindia.com\/","http:\/\/jainwoodcrafts.tradeindia.com\/company-profile.html","http:\/\/jainwoodcrafts.tradeindia.com\/products.html","http:\/\/jainwoodcrafts.tradeindia.com\/teak-wood.html","http:\/\/jainwoodcrafts.tradeindia.com\/mouldings.html","http:\/\/jainwoodcrafts.tradeindia.com\/pine-wood-lumber-1803640.html","http:\/\/jainwoodcrafts.tradeindia.com\/contact-us.html","http:\/\/jainwoodcrafts.tradeindia.com\/teak-logs-1798539.html","http:\/\/jainwoodcrafts.tradeindia.com\/teak-sawn-timber-1798548.html","http:\/\/jainwoodcrafts.tradeindia.com\/wood-trim-molding-1791161.html","http:\/\/jainwoodcrafts.tradeindia.com\/decorative-wood-moulding-1791156.html","http:\/\/jainwoodcrafts.tradeindia.com\/chinese-wood-moulding-1791159.html","http:\/\/jainwoodcrafts.tradeindia.com\/company-information.html","http:\/\/jainwoodcrafts.tradeindia.com\/teak-wood-round-logs-1798565.html","http:\/\/jainwoodcrafts.tradeindia.com\/teak-planks-1798542.html","http:\/\/jainwoodcrafts.tradeindia.com\/sawn-timber-wood-1798576.html","http:\/\/jainwoodcrafts.tradeindia.com\/rough-sawn-timber-1798578.html","http:\/\/jainwoodcrafts.tradeindia.com\/wood-moulding-1791142.html","http:\/\/jainwoodcrafts.tradeindia.com\/teak-wood-mouldings-1791143.html","http:\/\/jainwoodcrafts.tradeindia.com\/carved-wood-mouldings-1791144.html","http:\/\/jainwoodcrafts.tradeindia.com\/wooden-carvings-1791145.html","http:\/\/jainwoodcrafts.tradeindia.com\/pine-wood-moulding-1791147.html","http:\/\/jainwoodcrafts.tradeindia.com\/chinese-wood-mouldings-1791148.html","http:\/\/jainwoodcrafts.tradeindia.com\/plank-moulding-1791149.html","http:\/\/jainwoodcrafts.tradeindia.com\/interior-wood-moulding-1791150.html","http:\/\/jainwoodcrafts.tradeindia.com\/teak-wood-carvings-1791146.html","http:\/\/jainwoodcrafts.tradeindia.com\/pine-wood-carvings-1791152.html","http:\/\/jainwoodcrafts.tradeindia.com\/decorative-wood-mouldings-1791151.html","http:\/\/jainwoodcrafts.tradeindia.com\/decorative-wood-trim-1791153.html","http:\/\/jainwoodcrafts.tradeindia.com\/decorative-wood-work-1791154.html","http:\/\/jainwoodcrafts.tradeindia.com\/wood-crown-moldings-1791155.html","http:\/\/jainwoodcrafts.tradeindia.com\/decorative-wood-moulding-1791160.html","http:\/\/jainwoodcrafts.tradeindia.com\/chinese-wood-moulding-1791157.html","http:\/\/jainwoodcrafts.tradeindia.com\/chinese-wood-moulding-1791158.html","http:\/\/jainwoodcrafts.tradeindia.com\/cs2-2508046.html","http:\/\/jainwoodcrafts.tradeindia.com\/cs2-wood-2508050.html"]';
		$array = json_decode($json);
		dd_pre_echo($array);

		foreach ($array as $value) {
			$html = $this->httpGet($value);
			$name = str_replace('http://jainwoodcrafts.tradeindia.com/', '', $value);
			$name =  $name == '' ? 'index' : $name;
			
			if (!file_exists("test/jainwoodcrafts")) {
				mkdir("test/jainwoodcrafts");
			}

			saveInFile($html, $name, 'html' , 'test/jainwoodcrafts');

		}

	}


	public function httpGet($url)
	{
		$ch = curl_init();  

		curl_setopt($ch,CURLOPT_URL,$url);
		curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);
		//  curl_setopt($ch,CURLOPT_HEADER, false); 

		$output=curl_exec($ch);

		curl_close($ch);
		return $output == false ? null : $output;
	}

    
	
}
